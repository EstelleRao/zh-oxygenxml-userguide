<!DOCTYPE html><html xtrf="file:/E:/oxygen_user_manual/topics/dita_guide/keyscope.dita" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="copyright" content="(C) Copyright 2024"/><meta name="DC.rights.owner" content="(C) Copyright 2024"/>
<link rel="stylesheet" type="text/css" href="file:/C:/Users/CSR000369/Oxygen%20XML%20Author%2026/frameworks/dita/DITA-OT/plugins/com.oxygenxml.webhelp.responsive/oxygen-webhelp/app/topic-page-print.css"/>
<link rel="stylesheet" type="text/css" href="file:/C:/Users/CSR000369/Oxygen%20XML%20Author%2026/frameworks/dita/DITA-OT/plugins/com.oxygenxml.pdf.css/css/print/p-dita.css"/>
<link rel="stylesheet" type="text/css" href="file:/C:/Users/CSR000369/Oxygen%20XML%20Author%2026/frameworks/dita/DITA-OT/plugins/com.oxygenxml.editlink/pdf-css.css"/>
<link rel="stylesheet" type="text/css" href="file:/C:/Users/CSR000369/Oxygen%20XML%20Author%2026/frameworks/dita/DITA-OT/plugins/com.oxygenxml.webhelp.responsive/templates/oxygen/oxygen-with-colors.css"/>
<link rel="stylesheet" type="text/css" href="file:/C:/Users/CSR000369/Oxygen%20XML%20Author%2026/frameworks/dita/DITA-OT/plugins/com.oxygenxml.webhelp.responsive/templates/oxygen/notes.css"/>
<link rel="stylesheet" type="text/css" href="file:/E:/RAI-IFU/publishment-template/pdf-css/knst/CUSTOM.css"/>
<meta name="generator" content="DITA-OT"/><meta name="DC.type" content="topic"/><meta name="DC.format" content="HTML5"/><meta name="DC.identifier" content="keyscope"/><meta name="DC.language" content="en"/><title>@keyscope 属性</title></head><body class="wh_topic_page"><div class="wh_content_area"><div class="wh_topic_body"><div class="wh_topic_content"><div xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" class="- topic/topic topic" ditaarch:DITAArchVersion="1.3" domains="(topic abbrev-d) a(props deliveryTarget) (topic equation-d) (topic hazard-d) (topic hi-d) (topic indexing-d) (topic markup-d) (topic mathml-d) (topic pr-d) (topic relmgmt-d) (topic sw-d) (topic svg-d) (topic ui-d) (topic ut-d) (topic markup-d xml-d)" id="keyscope" specializations="@props/deliveryTarget" xml:lang="en" lang="en">
    <h1 class="- topic/title title topictitle1" id="ariaid-title1"><span class="- topic/ph topic/title-wrapper ph title-wrapper">@keyscope 属性</span></h1>
    <div class="- topic/body body">
        <p class="- topic/p p">@keyscope 属性用于定义 key 的作用域，避免同名 key 产生冲突。当引用了不同 DITA map 中的同名 key 时，只有一个 key 会生效。key 的优先级取决于 DITA map 在根目录中的引用位置。如果引用位置靠前，则在该 DITA map 定义的 key 优先级更高。</p>
        <p class="- topic/p p">为了保证引用的同名 key 都生效，可以在 DITA map 中定义 @keyscope 属性，通过 @keyscope 属性和 @keys 属性的组合区分同名 key。</p>
        <p class="- topic/p p">@keyscope 属性的值由一个或多个以空格分隔的作用域组成，使用“{资源属性}_{语言属性}”的命名规则，比如“common_en-US”“common_zh-CN”“C1000_en-US”。</p>
        <p class="- topic/p p">定义 @keyscope 属性后，资源的引用格式为“{@keyscope属性的值}.{@keys属性的值}，比如“common_global.common_label.instruction_manual”“common_en-US.doc_symbols”“common_zh-CN.doc_symbols”。</p>
        <p class="- topic/p p">@keyscope 属性通常在 <code class="+ topic/ph pr-d/codeph ph codeph">&lt;map&gt;</code> 元素中定义。在以下示例中，根据资源属性和语言属性在对应的公共资源管理文件（<strong class="+ topic/ph hi-d/b ph b">common.ditamap</strong>）中定义了 key 的作用域，以保证引用的同名 key 都生效。</p>
        <div class="- topic/p p">示例1：<pre class="+ topic/pre pr-d/codeblock pre codeblock language-xml" id="codeblock_jwh_snk_j1c" outputclass="language-xml" xml:space="preserve"><span class="hl-directive">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="hl-tag-doctype">&lt;!DOCTYPE map PUBLIC "-//OASIS//DTD DITA Map//EN" "map.dtd"[]&gt;</span>
<strong class="hl-tag">&lt;map</strong> <span class="hl-attribute">xml:lang</span>=<span class="hl-value">"en-US"</span> <span class="hl-attribute">keyscope</span>=<span class="hl-value">"common_en-US"</span><strong class="hl-tag">&gt;</strong>
    <strong class="hl-tag">&lt;title&gt;</strong>通用公共资源（en-US）<strong class="hl-tag">&lt;/title&gt;</strong>
    <strong class="hl-tag">&lt;topicref</strong> <span class="hl-attribute">href</span>=<span class="hl-value">"images/common_images.ditamap"</span> <span class="hl-attribute">format</span>=<span class="hl-value">"ditamap"</span><strong class="hl-tag">/&gt;</strong>
    <strong class="hl-tag">&lt;topicref</strong> <span class="hl-attribute">href</span>=<span class="hl-value">"topics/common_topics.ditamap"</span> <span class="hl-attribute">format</span>=<span class="hl-value">"ditamap"</span><strong class="hl-tag">/&gt;</strong>
    <strong class="hl-tag">&lt;topicref</strong> <span class="hl-attribute">href</span>=<span class="hl-value">"components/common_components.dita"</span> <span class="hl-attribute">keys</span>=<span class="hl-value">"common_components"</span><strong class="hl-tag">/&gt;</strong>
    <strong class="hl-tag">&lt;topicref</strong> <span class="hl-attribute">href</span>=<span class="hl-value">"components/product_names.dita"</span> <span class="hl-attribute">keys</span>=<span class="hl-value">"product_names"</span><strong class="hl-tag">/&gt;</strong>
<strong class="hl-tag">&lt;/map&gt;</strong></pre></div>
        <div class="- topic/p p">示例2：<pre class="+ topic/pre pr-d/codeblock pre codeblock language-xml" id="codeblock_sq4_5lk_j1c" outputclass="language-xml" xml:space="preserve"><span class="hl-directive">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="hl-tag-doctype">&lt;!DOCTYPE map PUBLIC "-//OASIS//DTD DITA Map//EN" "map.dtd"[]&gt;</span>
<strong class="hl-tag">&lt;map</strong> <span class="hl-attribute">xml:lang</span>=<span class="hl-value">"zh-CN"</span> <span class="hl-attribute">keyscope</span>=<span class="hl-value">"common_zh-CN"</span><strong class="hl-tag">&gt;</strong>
    <strong class="hl-tag">&lt;title&gt;</strong>通用公共资源（zh-CN）<strong class="hl-tag">&lt;/title&gt;</strong>
    <strong class="hl-tag">&lt;topicref</strong> <span class="hl-attribute">href</span>=<span class="hl-value">"images/common_images.ditamap"</span> <span class="hl-attribute">format</span>=<span class="hl-value">"ditamap"</span><strong class="hl-tag">/&gt;</strong>
    <strong class="hl-tag">&lt;topicref</strong> <span class="hl-attribute">href</span>=<span class="hl-value">"topics/common_topics.ditamap"</span> <span class="hl-attribute">format</span>=<span class="hl-value">"ditamap"</span><strong class="hl-tag">/&gt;</strong>
    <strong class="hl-tag">&lt;topicref</strong> <span class="hl-attribute">href</span>=<span class="hl-value">"components/common_components.dita"</span> <span class="hl-attribute">keys</span>=<span class="hl-value">"common_components"</span><strong class="hl-tag">/&gt;</strong>
    <strong class="hl-tag">&lt;topicref</strong> <span class="hl-attribute">href</span>=<span class="hl-value">"components/product_names.dita"</span> <span class="hl-attribute">keys</span>=<span class="hl-value">"product_names"</span><strong class="hl-tag">/&gt;</strong>
<strong class="hl-tag">&lt;/map&gt;</strong></pre></div>
        <div class="- topic/p p">示例3：<pre class="+ topic/pre pr-d/codeblock pre codeblock language-xml" id="codeblock_ysl_vlk_j1c" outputclass="language-xml" xml:space="preserve"><span class="hl-directive">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="hl-tag-doctype">&lt;!DOCTYPE map PUBLIC "-//OASIS//DTD DITA Map//EN" "map.dtd"[]&gt;</span>
<strong class="hl-tag">&lt;map</strong> <span class="hl-attribute">xml:lang</span>=<span class="hl-value">"en-US"</span> <span class="hl-attribute">keyscope</span>=<span class="hl-value">"C1000_en-US"</span><strong class="hl-tag">&gt;</strong>
    <strong class="hl-tag">&lt;title&gt;</strong>C1000公共资源（en-US）<strong class="hl-tag">&lt;/title&gt;</strong>
    <strong class="hl-tag">&lt;topicref</strong> <span class="hl-attribute">href</span>=<span class="hl-value">"variables/variable_text.ditamap"</span> <span class="hl-attribute">format</span>=<span class="hl-value">"ditamap"</span><strong class="hl-tag">/&gt;</strong>
    <strong class="hl-tag">&lt;topicref</strong> <span class="hl-attribute">href</span>=<span class="hl-value">"images/common_images.ditamap"</span> <span class="hl-attribute">format</span>=<span class="hl-value">"ditamap"</span><strong class="hl-tag">/&gt;</strong>
    <strong class="hl-tag">&lt;topicref</strong> <span class="hl-attribute">href</span>=<span class="hl-value">"topics/common_topics.ditamap"</span> <span class="hl-attribute">format</span>=<span class="hl-value">"ditamap"</span><strong class="hl-tag">/&gt;</strong>
    <strong class="hl-tag">&lt;topicref</strong> <span class="hl-attribute">href</span>=<span class="hl-value">"components/C1000_reusable_components.dita"</span> <span class="hl-attribute">keys</span>=<span class="hl-value">"C1000_reusable_components"</span><strong class="hl-tag">/&gt;</strong>
<strong class="hl-tag">&lt;/map&gt;</strong></pre></div>
        <p class="- topic/p p">@keyscope 属性也可在 <code class="+ topic/ph pr-d/codeph ph codeph">&lt;topicref&gt;</code> 元素中定义。 在以下示例中，根据语言属性为同名的通用公共图片定义了各自的作用域，以保证引用的同名 key 都生效。</p>
        <pre class="+ topic/pre pr-d/codeblock pre codeblock language-xml" id="codeblock_wmx_jnh_f1c" outputclass="language-xml" xml:space="preserve"><span class="hl-directive">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="hl-tag-doctype">&lt;!DOCTYPE map PUBLIC "-//OASIS//DTD DITA Map//EN" "map.dtd"[]&gt;</span>
<strong class="hl-tag">&lt;map&gt;</strong>
    <strong class="hl-tag">&lt;title&gt;</strong>通用公共图片<strong class="hl-tag">&lt;/title&gt;</strong>
    <strong class="hl-tag">&lt;topicref</strong> <span class="hl-attribute">href</span>=<span class="hl-value">"images/common_images.ditamap"</span> <span class="hl-attribute">format</span>=<span class="hl-value">"ditamap"</span> <span class="hl-attribute">keyscope</span>=<span class="hl-value">"common_zh-CN"</span><strong class="hl-tag">/&gt;</strong>
    <strong class="hl-tag">&lt;topicref</strong> <span class="hl-attribute">href</span>=<span class="hl-value">"topics/common_images.ditamap"</span> <span class="hl-attribute">format</span>=<span class="hl-value">"ditamap"</span> <span class="hl-attribute">keyscope</span>=<span class="hl-value">"common_en-US"</span><strong class="hl-tag">/&gt;</strong>
<strong class="hl-tag">&lt;/map&gt;</strong></pre>
    </div>
</div></div></div></div></body></html>